define(function(){var t={particles:[],l:30,s:3,c:["rgba(0,0,0,0.5)"]};return t.add=function(t,i){var s=2*Math.random()*Math.PI,r=Math.random()*this.s,a=this.l;this.particles.push({x:t,y:i,l:a,r:r,c:this.c[Math.floor(Math.random()*this.c.length)]})},t.update=function(){for(var t=0;t<this.particles.length;t++)this.particles[t].l--,this.particles[t].r+=Math.random(),this.particles[t].y+=.5,this.particles[t].c="rgba(255, 255, 255, "+1/this.l*this.particles[t].l+")",this.particles[t].l<0&&this.particles.splice(t,1)},t.draw=function(t,i){if(this.particles.length<1)return!1;for(var s=0;s<this.particles.length;s++)t.ctx.fillStyle=this.particles[s].c,t.ctx.fillRect(this.particles[s].x+t.width/2-i.x-this.particles[s].r/2,this.particles[s].y+t.height/2-i.y-this.particles[s].r/2,this.particles[s].r,this.particles[s].r)},t});